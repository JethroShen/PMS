!function(e,n){"function"==typeof define&&define.amd?define(["jquery","q","util/constant"],function(e,t,a){return n(e,t,a)}):e.ajax=n(e.$,e.Q,e.Constant)}(this,function(e,n){var t=function(t,a){return n.promise(function(n,i){t.url+=-1!=t.url.indexOf("?")?"&_="+(new Date).getTime():"?_="+(new Date).getTime(),e.ajax({url:t.url,data:t.data||{},dataType:t.dataType||"json",type:("jsonp"==t.dataType?"get":!1)||t.type||"get",xhrFields:{withCredentials:t.withCredentials||!1},success:function(){n.apply(a||null,arguments)},error:function(){i.apply(a||null,arguments)}})})};return t});